{"version":3,"file":"queries.js","sourceRoot":"","sources":["queries.ts"],"names":[],"mappings":";;;AAAA,yBAAyB;AACzB,6BAA6B;AAG7B,MAAa,WAAW;IACpB;IAEA,CAAC;IACM,iBAAiB,CAAC,UAAkB;QACvC,MAAM,OAAO,GAA6B,EAAE,CAAA;QAC5C,MAAM,KAAK,GAAG,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACzC,KAAK,CAAC,OAAO,CAAE,CAAC,IAAI,EAAE,EAAE;YACpB,MAAM,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC;YAClE,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;iBACnF,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;YACpC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC;QAC/C,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAA;IAClB,CAAC;CACJ;AAfD,kCAeC;AAGY,QAAA,OAAO,GAA0B;IAC1C,UAAU,EAAE;;;;;;CAMf;IACG,kBAAkB,EAAE;;;;;;;;;KASnB;IAGD,kBAAkB,EAAE;;;;;;;;;;;;;;;CAevB;CACA,CAAA","sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\n\n\nexport class QueryLoader{\n    public constructor(){\n\n    }\n    public loadWatDivQueries(queriesDir: string){\n        const queries: Record<string, string[]> = {}\n        const files = fs.readdirSync(queriesDir);\n        files.forEach( (file) => {\n            const data = fs.readFileSync(path.join(queriesDir, file), 'utf8');\n            const splitQueries = data.replace(/\\n/g, '').replace(/\\t/g, '').split('SELECT').slice(1)\n                .map(query => 'SELECT' + query);\n            queries[file.split('.')[0]] = splitQueries;\n        });\n        return queries\n    }\n}\n\n\nexport const queries: Record<string,string> = {\n    simpleJoin: `\n    SELECT ?v0 ?v1 ?v3 WHERE {\n        ?v0 <http://schema.org/jobTitle> ?v1 .\n        <http://db.uwaterloo.ca/~galuc/wsdbm/City25> <http://www.geonames.org/ontology#parentCountry> ?v3 .\n        ?v0 <http://schema.org/nationality> ?v3 .\n    }\n`,\n    simpleJoinOptional: `\n    SELECT ?v0 ?v1 ?v3 WHERE {\n        ?v0 <http://schema.org/jobTitle> ?v1 .\n        <http://db.uwaterloo.ca/~galuc/wsdbm/City25> <http://www.geonames.org/ontology#parentCountry> ?v3 .\n        ?v0 <http://schema.org/nationality> ?v3 .\n        OPTIONAL {\n        ?v0 <http://xmlns.com/foaf/age> ?v4\n        }\n    }\n    `,\n\n\n    w_1_1_union_filter: `\n    SELECT * WHERE {\n        {\n        ?v0 <http://schema.org/jobTitle> ?v1 .\n        <http://db.uwaterloo.ca/~galuc/wsdbm/City25> <http://www.geonames.org/ontology#parentCountry> ?v3 .\n        ?v0 <http://schema.org/nationality> ?v3 .\n        }\n        UNION {\n        ?v0 <http://xmlns.com/foaf/givenName> ?v4 .\n        ?v0 <http://schema.org/jobTitle> ?v1 .\n        <http://db.uwaterloo.ca/~galuc/wsdbm/City162> <http://www.geonames.org/ontology#parentCountry> ?v3 .\n        ?v0 <http://schema.org/nationality> ?v3 .\n        FILTER ( ?v3 = <http://db.uwaterloo.ca/~galuc/wsdbm/Country1> )\n        }\n    }\n`\n}"]}